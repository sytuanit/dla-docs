# Budget

## 1. Zweck

Das Modul **Budget** hilft Ihnen bei der Planung und Verfolgung monatlicher Ausgaben und stellt sicher, dass Sie Ihr gesetztes Budget nicht Ã¼berschreiten. Dieses Modul berechnet automatisch basierend auf:
- Ihrem wiederkehrenden Einkommen
- Ihren wiederkehrenden Ausgaben
- TatsÃ¤chlichen tÃ¤glichen Ausgaben

## 2. Wann zu verwenden

Verwenden Sie dieses Modul, wenn Sie mÃ¶chten:
- Monatliche Ausgaben planen
- Kontrollieren, Budget nicht zu Ã¼berschreiten
- Sparrate verfolgen
- Ausgabenanalyse nach Kategorie anzeigen
- Budgets zwischen Monaten vergleichen

## 3. Verwandte Bildschirme

- Budget erstellen (erstes Mal oder von vorherigem Monat kopieren)
- Budget-Ãœbersicht anzeigen
- Budget-Verlauf nach Monat
- Kopiervorschlag von vorherigem Monat

## 4. Hauptverwendung

### 4.1 Budget erstes Mal erstellen (Fall A)

1. Gehen Sie zu **Funktionen** â†’ WÃ¤hlen Sie **Budget**
2. Wenn kein Budget existiert, Ã¶ffnet App automatisch **Budget erstellen** Bildschirm
3. App berechnet und zeigt automatisch an:
   - **Wiederkehrendes Einkommen**: Gesamt aus allen aktiven wiederkehrenden Einkommen (nur lesen, zeigt detaillierte AufschlÃ¼sselung)
   - **Wiederkehrende Ausgaben**: Gesamt aus allen aktiven wiederkehrenden Ausgaben (nur lesen, zeigt detaillierte AufschlÃ¼sselung)
   - **Gesamtbudget (vor Ersparnissen)**: Auto berechnet = Wiederkehrendes Einkommen - Wiederkehrende Ausgaben
4. Geben Sie **Sparrate** ein: % Ersparnisse (0-100%, erforderlich)
5. Zeigen Sie **Ersparnisbetrag** und **Ausgabenbudget** automatisch berechnet an
6. Tippen Sie auf **Budget speichern**

### 4.2 Budget von vorherigem Monat kopieren (Fall C)

1. Gehen Sie zu **Funktionen** â†’ WÃ¤hlen Sie **Budget**
2. Wenn aktueller Monat kein Budget hat, aber vorheriger Monat hat, zeigt App **Budget kopieren Vorschlag** Bildschirm
3. WÃ¤hlen Sie eine der Optionen:
   - **Gesamtes Budget des vorherigen Monats kopieren**: App kopiert automatisch Sparrate, berechnet wiederkehrendes Einkommen/Ausgaben aus aktuellen Daten neu und erstellt Budget sofort
   - **Kopieren & Anpassen**: App navigiert zu Budget erstellen Bildschirm mit Sparrate vorausgefÃ¼llt vom vorherigen Monat, Sie kÃ¶nnen vor dem Speichern anpassen
   - **Neues Budget erstellen**: Budget erstellen Ablauf von Grund auf ausfÃ¼hren (Fall A)
4. Wenn "Kopieren & Anpassen" gewÃ¤hlt, Sparrate bei Bedarf anpassen
5. Tippen Sie auf **Budget speichern**

**Hinweis**: Beim Kopieren werden Wiederkehrendes Einkommen und Wiederkehrende Ausgaben aus aktuellen wiederkehrenden Daten neu berechnet (nicht vom vorherigen Monat kopiert), nur Sparrate wird kopiert.

### 4.3 Budget-Ãœbersicht anzeigen (Fall B)

1. Gehen Sie zu **Funktionen** â†’ WÃ¤hlen Sie **Budget**
2. Wenn aktueller Monat Budget hat, Ã¶ffnet App **Ãœbersicht** Bildschirm
3. Informationen anzeigen:
   - **Ausgabenbudget**: Gesetztes Ausgabenlimit
   - **Verwendet**: Ausgegebener Betrag (einschlieÃŸlich tÃ¤glicher Ausgaben und Einkommens-/Ausgabenabweichungen)
   - **Verbleibend**: Verbleibender Betrag im Budget
   - **Nutzungsrate**: % verwendetes Budget (mit Warnfarben)
   - **Einkommens- & Ausgabenabweichungen vom Plan**: Abweichungen vom ursprÃ¼nglichen Plan
   - **TÃ¤gliche Ausgaben nach Kategorie**: Detaillierte Ausgabenanalyse nach Kategorie

### 4.4 Budget des aktuellen Monats bearbeiten

1. Auf **Budget-Ãœbersicht** Bildschirm, tippen Sie auf **"Budget bearbeiten"** SchaltflÃ¤che
2. App zeigt Bearbeitungsbildschirm mit:
   - **Wiederkehrendes Einkommen** und **Wiederkehrende Ausgaben**: Alte Werte behalten (nur lesen)
   - **Sparrate**: VorausgefÃ¼llt aus aktuellem Budget (kann bearbeitet werden)
3. Sparrate bei Bedarf Ã¤ndern
4. Zeigen Sie Ersparnisbetrag und Ausgabenbudget automatisch aktualisiert an
5. Tippen Sie auf **"Budget speichern"**

**Hinweis**: Beim Bearbeiten werden Wiederkehrendes Einkommen und Wiederkehrende Ausgaben nicht neu berechnet (alte Momentaufnahme behalten), nur Sparrate und Ausgabenbudget werden aktualisiert.

### 4.5 Budget-Verlauf anzeigen

1. Gehen Sie zu **Funktionen** â†’ WÃ¤hlen Sie **Budget**
2. WÃ¤hlen Sie **Verlauf** aus dem MenÃ¼
3. Zeigen Sie Liste der Budgets fÃ¼r vergangene Monate an
4. Tippen Sie auf einen Monat, um Details anzuzeigen

### 4.6 Ausgabendetails nach Kategorie anzeigen

1. Gehen Sie zum **Budget-Ãœbersicht** Bildschirm
2. Scrollen Sie nach unten zu **Analyse nach Kategorie** Abschnitt
3. Tippen Sie auf eine Kategorie
4. Zeigen Sie Liste der Ausgaben in dieser Kategorie an

## 5. Beispiele & UI-Illustrationen

### 5.1 BUDGET-01: Budget erstes Mal fÃ¼r aktuellen Monat erstellen

**Ziel**: Budget erstes Mal erstellen, damit App automatisch monatliche Ausgaben basierend auf Einkommen und wiederkehrenden Ausgaben berechnet und verfolgt.

**Schritte**:
1. Gehen Sie zum Funktionsbildschirm, wÃ¤hlen Sie "Budgetverwaltung"
2. App erkennt automatisch kein Budget und zeigt "Budget erstellen" Bildschirm
3. Zeigen Sie automatisch berechnete Informationen an: Wiederkehrendes Einkommen, Wiederkehrende Ausgaben, Gesamtbudget (vor Ersparnissen)
4. Geben Sie Sparrate ein: 20
5. Zeigen Sie Ersparnisbetrag und Ausgabenbudget automatisch berechnet an
6. Tippen Sie auf "Budget speichern" SchaltflÃ¤che

**Ergebnis**: Budget fÃ¼r aktuellen Monat gespeichert, navigiert automatisch zu "Budget-Ãœbersicht" Bildschirm.

**UI-Illustration**:

```text
[ Karte: Budget November 2025 erstellen ]
+------------------------------------------------+
||                                                |
|| Wiederkehrendes Einkommen                â‚¬1,080         |
||  â€¢ Mein Gehalt (Monatlich)         â‚¬1,080         |
||                                                |
|| Wiederkehrende Ausgaben              â‚¬824          |
||  â€¢ Strom (Monatlich)          â‚¬31        |
||  â€¢ Wasser (Monatlich)                â‚¬15        |
||  â€¢ StudiengebÃ¼hren fÃ¼r BN (Monatlich)       â‚¬245       |
||  â€¢ FrÃ¼hstÃ¼ck & Kaffee (WÃ¶chentlich x 4) â‚¬32       |
||  â€¢ Wohnungsdarlehen (Monatlich)     â‚¬378      |
||                                                |
|| (Diese Daten werden automatisch abgerufen)        |
+------------------------------------------------+

[ Karte: Gesamtbudget (vor Ersparnissen) ]
 ------------------------------------------------
||   â‚¬1,080 (Wiederkehrendes Einkommen)                   |
|| - â‚¬824 (Wiederkehrende Ausgaben)                    |
||-----------------------------------------------|
|| = â‚¬256 EUR                                     |
 ------------------------------------------------

[ Karte: Sparrate ]
 ------------------------------------------------
|| Wie viel mÃ¶chten Sie sparen?                 |
||                                                |
|| Sparrate (%)                               |
|| [  Eingabe (erforderlich): 20  ]                    |
||                                                |
|| â†’ Entspricht: â‚¬51                              |
 ------------------------------------------------

[ Karte: Ausgabenbudget ]
 ------------------------------------------------
||    â‚¬256 (Gesamtbudget (vor Ersparnissen))       |
|| -  â‚¬51 (Ersparnisbetrag)                        |
||-----------------------------------------------|
|| = â‚¬204 EUR                                     |
||                                                |
|| (EnthÃ¤lt Essen, Transport, Kaffee, kleine EinkÃ¤ufe...)
 ------------------------------------------------

[ SchaltflÃ¤che ]
 -------------------------------
||      Budget speichern              |
 -------------------------------
```

---

### 5.2 BUDGET-02: Budget-Ãœbersicht des aktuellen Monats anzeigen

**Ziel**: Ausgabensituation im Vergleich zum gesetzten Budget anzeigen, einschlieÃŸlich verwendeter BetrÃ¤ge, verbleibender BetrÃ¤ge und Analyse nach Kategorie.

**Schritte**:
1. Gehen Sie zum Funktionsbildschirm, wÃ¤hlen Sie "Budgetverwaltung"
2. App erkennt automatisch Budget existiert und zeigt "Budget-Ãœbersicht" Bildschirm
3. Zeigen Sie Karte 1 - Monatliches Budget an: Ausgabenbudget, Verwendet, Verbleibend, Nutzungsrate
4. Zeigen Sie Karte 2 - Einkommens- & Ausgabenabweichungen vom Plan an
5. Zeigen Sie Karte 3 - TÃ¤gliche Ausgaben nach Kategorie an
6. (Optional) Klicken Sie auf "Ausgabenbudget â€º", um detaillierten Dialog mit Budgetberechnung anzuzeigen

**Ergebnis**: Zeigt vollstÃ¤ndige Budgetinformationen des aktuellen Monats mit Fortschrittsring/-balken und angemessenen Farben an.

**UI-Illustration**:

```text
[ Karte 1 â€“ Budget November 2025 ]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Budget November 2025                         â”‚
â”‚                                             â”‚
â”‚ Ausgabenbudget â€º      â‚¬204                 â”‚
â”‚ Verwendet                  â‚¬32                   â”‚
â”‚  â€¢ TÃ¤gliche Ausgaben              â‚¬43          â”‚   
â”‚  â€¢ Einkommensabweichung      -â‚¬144              â”‚
â”‚  â€¢ Ausgabenabweichung       +â‚¬7               â”‚
â”‚ Verbleibend              â‚¬94                 â”‚
â”‚                                             â”‚
â”‚                    15.4%                    â”‚
â”‚   (Sie haben 15.4% des Ausgabenbudgets dieses Monats verwendet)
â”‚   (Sie sind dabei, das Ausgabenbudget dieses Monats aufzubrauchen)
â”‚                                             â”‚
â”‚                               [Verlauf anzeigen]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ Karte 2 â€“ Einkommens- & Ausgabenabweichungen vom Plan ]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Einkommens- & Ausgabenabweichungen vom Plan        â”‚
â”‚                                              â”‚
â”‚ Wiederkehrendes Einkommen                             â”‚
â”‚  â€¢ Mein Gehalt                 +â‚¬72           â”‚
â”‚    (â‚¬432 > â‚¬360)                             â”‚
â”‚                                              â”‚
â”‚ Wiederkehrende Ausgaben                           â”‚
â”‚  â€¢ StudiengebÃ¼hren fÃ¼r BN              -â‚¬4          â”‚
â”‚    (â‚¬245 > â‚¬252)                             â”‚
â”‚                                              â”‚
â”‚ Gesamte Einkommensabweichung:        +â‚¬216          â”‚
â”‚ Gesamte Ausgabenabweichung:        -â‚¬7          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ Karte 3 â€“ TÃ¤gliche Ausgaben nach Kategorie ]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TÃ¤gliche Ausgaben nach Kategorie                   â”‚
â”‚ (Essen, Transport, Kaffee, kleine EinkÃ¤ufe...)
â”‚                                             â”‚
â”‚ Gesamte tÃ¤gliche Ausgaben: â‚¬43                    â”‚
â”‚                                             â”‚
â”‚ Essen              â‚¬22    50% [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ---------]â”‚
â”‚ Transport     â‚¬11    25% [â–ˆâ–ˆâ–ˆ-----------]â”‚
â”‚ Kaffee             â‚¬7     17% [â–ˆâ–ˆ------------]â”‚
â”‚ Kleine EinkÃ¤ufe     â‚¬4     8%  [â–ˆ-------------]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.3 BUDGET-03: Budget des aktuellen Monats bearbeiten

**Ziel**: Sparrate anpassen, um Ausgabenbudget fÃ¼r aktuellen Monat zu Ã¤ndern.

**Schritte**:
1. Auf "Budget-Ãœbersicht" Bildschirm, tippen Sie auf "Budget bearbeiten" SchaltflÃ¤che
2. App zeigt Bearbeitungsbildschirm (Ã¤hnlich wie Budget erstellen Bildschirm)
3. Zeigen Sie aktuelle Informationen an: Wiederkehrendes Einkommen, Wiederkehrende Ausgaben (alte Werte behalten)
4. Ã„ndern Sie Sparrate auf 25
5. Zeigen Sie Ersparnisbetrag und Ausgabenbudget automatisch aktualisiert an
6. Tippen Sie auf "Budget speichern" SchaltflÃ¤che

**Ergebnis**: Budget aktualisiert, kehrt zu "Budget-Ãœbersicht" Bildschirm mit neuen Werten zurÃ¼ck.

**UI-Illustration**: Ã„hnlich wie BUDGET-01 (Budget erstellen Bildschirm), aber Wiederkehrendes Einkommen und Wiederkehrende Ausgaben Werte sind nur lesen und vom alten Budget behalten.

---

### 5.4 BUDGET-04: Budget von vorherigem Monat kopieren, wenn neuer Monat beginnt

**Ziel**: Budget des vorherigen Monats wiederverwenden, um Zeit beim Erstellen neues Budget zu sparen, mit Option zur Anpassung bei Bedarf.

**Schritte**:
1. Gehen Sie zum Funktionsbildschirm, wÃ¤hlen Sie "Budgetverwaltung"
2. App erkennt automatisch aktueller Monat hat kein Budget, aber vorheriger Monat hat, zeigt "Budget kopieren Vorschlag" Bildschirm
3. WÃ¤hlen Sie "Kopieren & Anpassen"
4. App navigiert zu Budget erstellen Bildschirm mit Sparrate vorausgefÃ¼llt vom vorherigen Monat
5. (Optional) Sparrate bei Bedarf anpassen
6. Tippen Sie auf "Budget speichern" SchaltflÃ¤che

**Ergebnis**: Neues Budget fÃ¼r aktuellen Monat erstellt, navigiert automatisch zu "Budget-Ãœbersicht" Bildschirm.

**UI-Illustration**:

```text
[ BILDSCHIRM ]  Budget Dezember 2025
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dezember 2025 hat kein Budget                 â”‚
â”‚                                              â”‚
â”‚ Wie mÃ¶chten Sie das Budget des neuen Monats erstellen?â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚ ğŸ“ Kopieren & Anpassen â€º                          â”‚
â”‚    Hinweis: Budget November 2025 kopieren und anpassenâ”‚
â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚ â• Neues Budget erstellen â€º                      â”‚
â”‚   Hinweis: Budget erstellen Ablauf erneut ausfÃ¼hren        â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Nach Auswahl von "Kopieren & Anpassen" wird der Budget erstellen Bildschirm Ã¤hnlich wie BUDGET-01 angezeigt, aber Sparrate ist vom vorherigen Monat vorausgefÃ¼llt.

## 6. Logik & Regeln

### 6.1 FÃ¤lle

- **Fall A**: Budget erstes Mal erstellen (kein Budget fÃ¼r irgendeinen Monat)
- **Fall B**: Aktueller Monat hat Budget â†’ Ãœbersicht anzeigen
- **Fall C**: Aktueller Monat hat keins, aber vorheriger Monat hat â†’ Kopiervorschlag

### 6.2 Automatische Berechnung

- **Wiederkehrendes Einkommen**: Gesamt aus allen aktiven `recurring_income`
- **Wiederkehrende Ausgaben**: Gesamt aus allen aktiven `recurring_expense`
- **TÃ¤gliche Ausgaben**: Gesamt aus `daily_expense` im Monat
- **Gesamtbudget**: Wiederkehrendes Einkommen + Zusatzeinkommen
- **Ersparnisse**: Gesamtbudget Ã— Sparrate

### 6.3 Integration mit anderen Modulen

- Beim BestÃ¤tigen wiederkehrendes Einkommen â†’ Budget automatisch aktualisieren
- Beim BestÃ¤tigen wiederkehrende Ausgabe â†’ Budget automatisch aktualisieren
- TÃ¤gliche Ausgaben werden automatisch in Budget berechnet

### 6.4 Budget Ã¼berschritten Warnung

- App zeigt Warnung an, wenn Ausgaben Budget Ã¼berschreiten
- Warnung wird auf Startbildschirm und in Benachrichtigungen angezeigt

### 6.5 Momentaufnahme

- Beim Erstellen des Budgets erstellt App Momentaufnahme von Einkommens-/Ausgabenelementen, um Zustand zu diesem Zeitpunkt zu speichern
- Momentaufnahme wird fÃ¼r Vergleich und Analyse verwendet

## 7. Wichtige Hinweise

- **Ein Budget pro Monat**: Sie mÃ¼ssen fÃ¼r jeden Monat Budget erstellen
- **Budget bearbeiten**: Sie kÃ¶nnen Budget des aktuellen Monats bearbeiten, indem Sie Sparrate Ã¤ndern. Wiederkehrendes Einkommen und Wiederkehrende Ausgaben bleiben unverÃ¤ndert (Momentaufnahme), um Genauigkeit sicherzustellen
- **Automatische Aktualisierung**: Budget aktualisiert automatisch, wenn Sie Einkommen/Ausgaben bestÃ¤tigen
- **Von vorherigem Monat kopieren**: Kopierfunktion hilft Ihnen, Zeit beim Erstellen des Budgets zu sparen

