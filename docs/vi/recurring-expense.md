# Chi tiÃªu cá»‘ Ä‘á»‹nh

## 1. Má»¥c Ä‘Ã­ch

Module **Chi tiÃªu cá»‘ Ä‘á»‹nh** giÃºp báº¡n quáº£n lÃ½ cÃ¡c khoáº£n chi tiÃªu Ä‘á»‹nh ká»³, cÃ³ chu ká»³ cá»‘ Ä‘á»‹nh nhÆ°:
- Tiá»n Ä‘iá»‡n, nÆ°á»›c, gas
- Internet, cÃ¡p TV
- Báº£o hiá»ƒm
- Há»c phÃ­
- Tiá»n thuÃª nhÃ 
- CÃ¡c khoáº£n chi tiÃªu Ä‘á»‹nh ká»³ khÃ¡c

Module nÃ y tá»± Ä‘á»™ng táº¡o cÃ¡c **ká»³ phÃ¡t sinh** (occurrences) dá»±a trÃªn chu ká»³ báº¡n Ä‘Ã£ cáº¥u hÃ¬nh, vÃ  nháº¯c nhá»Ÿ báº¡n khi Ä‘áº¿n ká»³ thanh toÃ¡n.

## 2. Khi nÃ o nÃªn dÃ¹ng

Sá»­ dá»¥ng module nÃ y khi báº¡n cÃ³:
- Chi tiÃªu cá»‘ Ä‘á»‹nh theo chu ká»³ (hÃ ng tuáº§n, 2 tuáº§n, hoáº·c hÃ ng thÃ¡ng)
- Cáº§n theo dÃµi vÃ  xÃ¡c nháº­n khi Ä‘Ã£ thanh toÃ¡n
- Muá»‘n tá»± Ä‘á»™ng tÃ­nh toÃ¡n vÃ o ngÃ¢n sÃ¡ch hÃ ng thÃ¡ng

## 3. CÃ¡c mÃ n hÃ¬nh liÃªn quan

- Danh sÃ¡ch chi tiÃªu cá»‘ Ä‘á»‹nh
- ThÃªm chi tiÃªu cá»‘ Ä‘á»‹nh má»›i
- Sá»­a chi tiÃªu cá»‘ Ä‘á»‹nh
- Lá»‹ch sá»­ cÃ¡c ká»³ phÃ¡t sinh

## 4. CÃ¡ch sá»­ dá»¥ng chÃ­nh

### 4.1 ThÃªm chi tiÃªu cá»‘ Ä‘á»‹nh má»›i

1. VÃ o **Chá»©c nÄƒng** â†’ Chá»n **Chi tiÃªu cá»‘ Ä‘á»‹nh**
2. Nháº¥n nÃºt **+** (FAB) á»Ÿ gÃ³c dÆ°á»›i bÃªn pháº£i
3. Äiá»n thÃ´ng tin:
   - **Danh má»¥c**: Chá»n hoáº·c táº¡o danh má»¥c má»›i
   - **Sá»‘ tiá»n**: Nháº­p sá»‘ tiá»n chi tiÃªu (cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng, nháº­p sau khi xÃ¡c nháº­n)
   - **Chu ká»³**: Chá»n HÃ ng tuáº§n / 2 tuáº§n / HÃ ng thÃ¡ng
   - **NgÃ y**: Chá»n ngÃ y trong chu ká»³ (vÃ­ dá»¥: ngÃ y 15 hÃ ng thÃ¡ng)
   - **NgÃ y báº¯t Ä‘áº§u**: (Chá»‰ cho chu ká»³ 2 tuáº§n) Chá»n ngÃ y báº¯t Ä‘áº§u thanh toÃ¡n
   - **Ghi chÃº**: ThÃ´ng tin bá»• sung (tÃ¹y chá»n)
4. Nháº¥n **LÆ°u**

### 4.2 XÃ¡c nháº­n Ä‘Ã£ thanh toÃ¡n

1. VÃ o danh sÃ¡ch chi tiÃªu cá»‘ Ä‘á»‹nh
2. TÃ¬m item cÃ³ badge **"Chá» xÃ¡c nháº­n"** (mÃ u vÃ ng)
3. Nháº¥n vÃ o item Ä‘á»ƒ má»Ÿ dialog xÃ¡c nháº­n
4. Äiá»n:
   - **Sá»‘ tiá»n thá»±c táº¿**: (náº¿u khÃ¡c vá»›i dá»± kiáº¿n)
   - **Ghi chÃº**: (tÃ¹y chá»n)
5. Nháº¥n **XÃ¡c nháº­n**

### 4.3 Sá»­a chi tiÃªu cá»‘ Ä‘á»‹nh

1. VÃ o danh sÃ¡ch chi tiÃªu cá»‘ Ä‘á»‹nh
2. Nháº¥n vÃ o item cáº§n sá»­a
3. Chá»n **Sá»­a** tá»« menu
4. Cáº­p nháº­t thÃ´ng tin
5. Nháº¥n **LÆ°u**

### 4.4 Xem lá»‹ch sá»­

1. VÃ o danh sÃ¡ch chi tiÃªu cá»‘ Ä‘á»‹nh
2. Nháº¥n vÃ o item
3. Chá»n **Lá»‹ch sá»­** Ä‘á»ƒ xem táº¥t cáº£ cÃ¡c ká»³ phÃ¡t sinh Ä‘Ã£ qua

### 4.5 Táº¯t/Báº­t chi tiÃªu

1. VÃ o danh sÃ¡ch chi tiÃªu cá»‘ Ä‘á»‹nh
2. TÃ¬m item cáº§n táº¯t/báº­t
3. Báº­t/táº¯t switch **Hoáº¡t Ä‘á»™ng** á»Ÿ bÃªn pháº£i item

## 5. Minh hoáº¡ giao diá»‡n (Wireframe)

### 5.1 MÃ n hÃ¬nh Danh sÃ¡ch

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Quay láº¡i    Chi tiÃªu cá»‘ Ä‘á»‹nh         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” TÃ¬m kiáº¿m...]                        â”‚
â”‚  [Táº¥t cáº£ â–¼] [Chá» xÃ¡c nháº­n] [ÄÃ£ xÃ¡c nháº­n]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Tiá»n Ä‘iá»‡n          [Hoáº¡t Ä‘á»™ng]     â”‚ â”‚
â”‚  â”‚ 500,000 Ä‘                         â”‚ â”‚
â”‚  â”‚ HÃ ng thÃ¡ng - NgÃ y 15              â”‚ â”‚
â”‚  â”‚ Ká»³ tiáº¿p theo: 15/12/2024         â”‚ â”‚
â”‚  â”‚ [Chá» xÃ¡c nháº­n]                    â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚ [Sá»­a] [Lá»‹ch sá»­] [XÃ³a]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Tiá»n nÆ°á»›c          [Hoáº¡t Ä‘á»™ng]     â”‚ â”‚
â”‚  â”‚ 200,000 Ä‘                         â”‚ â”‚
â”‚  â”‚ HÃ ng thÃ¡ng - NgÃ y 10              â”‚ â”‚
â”‚  â”‚ Ká»³ tiáº¿p theo: 10/12/2024         â”‚ â”‚
â”‚  â”‚ [ÄÃ£ xÃ¡c nháº­n]                     â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚ [Sá»­a] [Lá»‹ch sá»­] [XÃ³a]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  Tá»•ng: 700,000 Ä‘/thÃ¡ng                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    [+]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 MÃ n hÃ¬nh ThÃªm/Sá»­a

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Quay láº¡i    ThÃªm chi tiÃªu cá»‘ Ä‘á»‹nh    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Danh má»¥c *                              â”‚
â”‚  [Tiá»n Ä‘iá»‡n â–¼]                           â”‚
â”‚                                         â”‚
â”‚  Sá»‘ tiá»n                                 â”‚
â”‚  [500,000] Ä‘                             â”‚
â”‚  (CÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng, nháº­p khi xÃ¡c nháº­n)   â”‚
â”‚                                         â”‚
â”‚  Chu ká»³ *                                â”‚
â”‚  â—‹ HÃ ng tuáº§n                             â”‚
â”‚  â— HÃ ng thÃ¡ng                            â”‚
â”‚  â—‹ 2 tuáº§n                                â”‚
â”‚                                         â”‚
â”‚  NgÃ y *                                  â”‚
â”‚  [15]                                    â”‚
â”‚  (1-31 cho hÃ ng thÃ¡ng, 1-7 cho hÃ ng tuáº§n)â”‚
â”‚                                         â”‚
â”‚  NgÃ y báº¯t Ä‘áº§u                            â”‚
â”‚  [15/11/2024]                            â”‚
â”‚  (Chá»‰ cho chu ká»³ 2 tuáº§n)                â”‚
â”‚                                         â”‚
â”‚  Ghi chÃº                                 â”‚
â”‚  [Tiá»n Ä‘iá»‡n thÃ¡ng 11/2024]               â”‚
â”‚                                         â”‚
â”‚  [LÆ°u] [Há»§y]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6. Logic & quy táº¯c

### 6.1 Chu ká»³ vÃ  NgÃ y

- **HÃ ng tuáº§n**: Chá»n ngÃ y trong tuáº§n (1=Thá»© 2, 7=Chá»§ nháº­t)
- **2 tuáº§n**: Chá»n ngÃ y trong tuáº§n + ngÃ y báº¯t Ä‘áº§u cá»¥ thá»ƒ
- **HÃ ng thÃ¡ng**: Chá»n ngÃ y trong thÃ¡ng (1-31)

### 6.2 Tá»± Ä‘á»™ng táº¡o ká»³ phÃ¡t sinh

- App tá»± Ä‘á»™ng táº¡o **occurrence** (ká»³ phÃ¡t sinh) khi:
  - ThÃªm chi tiÃªu má»›i
  - Äáº¿n ngÃ y trong chu ká»³
  - ThÃ¡ng má»›i báº¯t Ä‘áº§u

### 6.3 Tráº¡ng thÃ¡i ká»³ phÃ¡t sinh

- **PENDING**: Chá» xÃ¡c nháº­n (hiá»ƒn thá»‹ badge vÃ ng)
- **COMPLETED**: ÄÃ£ xÃ¡c nháº­n (hiá»ƒn thá»‹ badge xanh)
- **CANCELLED**: ÄÃ£ há»§y (hiá»ƒn thá»‹ badge Ä‘á»)

### 6.4 TÃ­ch há»£p vá»›i NgÃ¢n sÃ¡ch

- Khi xÃ¡c nháº­n chi tiÃªu, app tá»± Ä‘á»™ng cáº­p nháº­t ngÃ¢n sÃ¡ch thÃ¡ng hiá»‡n táº¡i (náº¿u cÃ³)
- Chi tiÃªu Ä‘Æ°á»£c tÃ­nh vÃ o "Chi tiÃªu cá»‘ Ä‘á»‹nh" trong ngÃ¢n sÃ¡ch

### 6.5 ThÃ´ng bÃ¡o

- App gá»­i thÃ´ng bÃ¡o nháº¯c nhá»Ÿ khi Ä‘áº¿n ká»³ thanh toÃ¡n
- Thá»i gian thÃ´ng bÃ¡o cÃ³ thá»ƒ cáº¥u hÃ¬nh cho tá»«ng khoáº£n (`notificationTime1`, `notificationTime2`, máº·c Ä‘á»‹nh 16:00 vÃ  19:00)

## 7. LÆ°u Ã½ quan trá»ng

- **Sá»‘ tiá»n cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng**: Náº¿u báº¡n chÆ°a biáº¿t chÃ­nh xÃ¡c sá»‘ tiá»n, cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng vÃ  nháº­p khi xÃ¡c nháº­n
- **KhÃ´ng thá»ƒ xÃ³a khi Ä‘Ã£ cÃ³ occurrence**: Náº¿u Ä‘Ã£ cÃ³ ká»³ phÃ¡t sinh, báº¡n chá»‰ cÃ³ thá»ƒ táº¯t (isActive = false), khÃ´ng thá»ƒ xÃ³a
- **XÃ¡c nháº­n muá»™n**: Báº¡n cÃ³ thá»ƒ xÃ¡c nháº­n cÃ¡c ká»³ Ä‘Ã£ qua, app sáº½ tá»± Ä‘á»™ng tÃ­nh láº¡i ngÃ¢n sÃ¡ch
- **Thay Ä‘á»•i chu ká»³**: Khi sá»­a chu ká»³, cÃ¡c occurrence tÆ°Æ¡ng lai sáº½ Ä‘Æ°á»£c tÃ­nh láº¡i
