# 日々の支出

## 1. 目的

**日々の支出**モジュールは、以下のような定期的でない、固定でない支出を記録するのに役立ちます：
- 食事・外食
- 買い物
- 交通費
- 娯楽
- その他の柔軟な支出

**定期支出**とは異なり、日々の支出は金額と頻度が変動することが多く、固定サイクルがありません。

## 2. 使用するタイミング

以下の場合にこのモジュールを使用します：
- ランダムで非定期的な支出を記録
- 日々の支出を追跡して予算を管理
- カテゴリ別の支出傾向を分析
- 期間内の総支出を表示

## 3. 関連画面

- 日々の支出リスト
- 新しい支出の追加
- 支出の編集

## 4. 主な使用方法

### 4.1 日々の支出を追加

1. **機能** → **日々の支出**を選択
2. 右下の **+** (FAB) ボタンをタップ
3. 情報を入力：
   - **カテゴリ**: カテゴリを選択（または設定されている場合はデフォルトカテゴリを使用）
   - **金額**: 支出額を入力
   - **日付**: 支出日を選択（デフォルトは今日）
   - **メモ**: 詳細な説明（任意）
4. **保存**をタップ

### 4.2 支出リストを表示

1. **機能** → **日々の支出**を選択
2. リストが設定されたレイアウト（2、3、または4列）に従って表示されます
3. **検索**を使用してカテゴリまたはメモでフィルタリング
4. **時間フィルタ**を選択: 今日 / 今週 / 今月 / 先月 / カスタム

### 4.3 支出を編集

1. 日々の支出リストに移動
2. 編集する項目を長押し
3. メニューから**編集**を選択
4. 情報を更新
5. **保存**をタップ

### 4.4 支出を削除

1. 日々の支出リストに移動
2. 削除する項目を長押し
3. メニューから**削除**を選択
4. 削除を確認

### 4.5 デフォルトカテゴリを設定

1. **設定** → **カテゴリ** → **日々の支出カテゴリ**に移動
2. デフォルトとして設定するカテゴリをタップ
3. **デフォルトに設定**を選択
4. 新しい支出を追加する際、このカテゴリが自動的に選択されます

## 5. UI図解（ワイヤーフレーム）

### 5.1 リスト画面

```text
┌─────────────────────────────────────────┐
│  ← 戻る    日々の支出                    │
├─────────────────────────────────────────┤
│  [🔍 検索...]                           │
│  [今日 ▼] [今週] [今月]                 │
├─────────────────────────────────────────┤
│  ┌──────┐ ┌──────┐ ┌──────┐            │
│  │ 外食  │ │ 買物 │ │ タクシ│            │
│  │      │ │      │ │ ー    │            │
│  │      │ │      │ │      │            │
│  │ ¥200 │ │ ¥800 │ │ ¥100 │            │
│  │      │ │      │ │      │            │
│  │ 11/15│ │ 11/15│ │ 11/14│            │
│  └──────┘ └──────┘ └──────┘            │
│                                         │
│  ┌──────┐ ┌──────┐ ┌──────┐            │
│  │ コー │ │ その他│ │      │            │
│  │ ヒー │ │      │ │      │            │
│  │      │ │      │ │      │            │
│  │ ¥100 │ │ ¥400 │ │      │            │
│  │      │ │      │ │      │            │
│  │ 11/13│ │ 11/12│ │      │            │
│  └──────┘ └──────┘ └──────┘            │
│                                         │
│  合計: ¥1,600                          │
├─────────────────────────────────────────┤
│                                    [+]   │
└─────────────────────────────────────────┘
```

### 5.2 追加/編集画面

```text
┌─────────────────────────────────────────┐
│  ← 戻る    日々の支出を追加              │
├─────────────────────────────────────────┤
│  カテゴリ *                              │
│  [外食 ▼]                                │
│                                         │
│  金額 *                                  │
│  [¥200]                                 │
│                                         │
│  日付 *                                  │
│  [2024/11/15]                           │
│                                         │
│  メモ                                    │
│  [友人とランチ]                          │
│                                         │
│  [保存] [キャンセル]                    │
└─────────────────────────────────────────┘
```

### 5.3 メニュー（長押し）

```text
┌─────────────────────────────────────────┐
│  ┌───────────────────────────────────┐ │
│  │ 外食                                │ │
│  │ ¥200                                │ │
│  │ 2024/11/15                          │ │
│  │                                     │ │
│  │ [編集] [削除]                       │ │
│  └───────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

## 6. ロジックとルール

### 6.1 表示レイアウト

- 列数を設定できます: 2、3、または4列
- レイアウトは設定に保存され、すべての支出リストに適用されます

### 6.2 時間フィルタ

- **今日**: 今日の支出のみ表示
- **今週**: 週の開始から今日まで
- **今月**: 月の開始から今日まで
- **先月**: 前月全体
- **カスタム**: カスタム時間範囲を選択

### 6.3 検索

- **カテゴリ名**と**メモ**で検索
- 大文字小文字を区別しない
- 入力に応じてリアルタイム検索

### 6.4 デフォルトカテゴリ

- デフォルトカテゴリを設定している場合、追加画面を開くと、そのカテゴリが自動的に選択されます
- メモもカテゴリに基づいて自動入力できます（設定されている場合）

### 6.5 総支出

- 総支出は現在選択されている時間フィルタに基づいて計算されます
- リストの下部に表示されます

## 7. 重要な注意事項

- **サイクルなし**: 日々の支出には自動サイクルがなく、毎回手動で入力する必要があります
- **削除可能**: 任意の支出を削除できます（定期支出とは異なります）
- **予算統合なし**: 日々の支出は予算に自動計算されません（自分で追跡する必要があります）
- **カスタムカテゴリ**: 設定で新しいカテゴリを作成できます

