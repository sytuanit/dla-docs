# Tiáº¿t kiá»‡m

## 1. Má»¥c Ä‘Ã­ch

Module **Tiáº¿t kiá»‡m** giÃºp báº¡n quáº£n lÃ½ cÃ¡c tÃ i khoáº£n tiáº¿t kiá»‡m táº¡i ngÃ¢n hÃ ng, theo dÃµi sá»‘ dÆ°, lÃ£i suáº¥t, vÃ  ká»³ háº¡n. Module nÃ y há»— trá»£:
- Quáº£n lÃ½ nhiá»u tÃ i khoáº£n tiáº¿t kiá»‡m
- Theo dÃµi lÃ£i suáº¥t vÃ  ká»³ háº¡n
- Tá»± Ä‘á»™ng tÃ­nh lÃ£i khi Ä‘áº¿n ká»³ Ä‘Ã¡o háº¡n
- RÃºt tiá»n trÆ°á»›c háº¡n (náº¿u cáº§n)
- Gia háº¡n (rollover) tÃ i khoáº£n

## 2. Khi nÃ o nÃªn dÃ¹ng

Sá»­ dá»¥ng module nÃ y khi báº¡n cÃ³:
- TÃ i khoáº£n tiáº¿t kiá»‡m táº¡i ngÃ¢n hÃ ng
- Cáº§n theo dÃµi sá»‘ dÆ° vÃ  lÃ£i suáº¥t
- Muá»‘n nháº¯c nhá»Ÿ khi Ä‘áº¿n ká»³ Ä‘Ã¡o háº¡n
- Cáº§n quáº£n lÃ½ nhiá»u tÃ i khoáº£n tiáº¿t kiá»‡m

## 3. CÃ¡c mÃ n hÃ¬nh liÃªn quan

- **SavingsList** - Danh sÃ¡ch tÃ i khoáº£n tiáº¿t kiá»‡m
- **AddSavingsAccount** - ThÃªm tÃ i khoáº£n má»›i
- **EditSavingsAccount** - Sá»­a tÃ i khoáº£n
- **SavingsAccountDetail** - Chi tiáº¿t tÃ i khoáº£n
- **WithdrawSavingsAccount** - RÃºt tiá»n trÆ°á»›c háº¡n

## 4. CÃ¡ch sá»­ dá»¥ng chÃ­nh

### 4.1 ThÃªm tÃ i khoáº£n tiáº¿t kiá»‡m

1. VÃ o **Chá»©c nÄƒng** â†’ Chá»n **Tiáº¿t kiá»‡m**
2. Nháº¥n nÃºt **+** (FAB)
3. Äiá»n thÃ´ng tin:
   - **NgÃ¢n hÃ ng**: Chá»n hoáº·c táº¡o ngÃ¢n hÃ ng má»›i
   - **Sá»‘ tiá»n gá»­i**: Sá»‘ tiá»n ban Ä‘áº§u
   - **LÃ£i suáº¥t**: % lÃ£i suáº¥t/nÄƒm
   - **Ká»³ háº¡n**: Sá»‘ thÃ¡ng (vÃ­ dá»¥: 3, 6, 12 thÃ¡ng)
   - **NgÃ y gá»­i**: NgÃ y báº¯t Ä‘áº§u gá»­i tiáº¿t kiá»‡m
   - **Ghi chÃº**: ThÃ´ng tin bá»• sung (tÃ¹y chá»n)
4. Nháº¥n **LÆ°u**

### 4.2 Xem chi tiáº¿t tÃ i khoáº£n

1. VÃ o danh sÃ¡ch tiáº¿t kiá»‡m
2. Nháº¥n vÃ o tÃ i khoáº£n
3. Xem thÃ´ng tin:
   - Sá»‘ dÆ° hiá»‡n táº¡i
   - LÃ£i suáº¥t vÃ  ká»³ háº¡n
   - NgÃ y Ä‘Ã¡o háº¡n
   - LÃ£i dá»± kiáº¿n

### 4.3 RÃºt tiá»n trÆ°á»›c háº¡n

1. VÃ o chi tiáº¿t tÃ i khoáº£n
2. Chá»n **RÃºt tiá»n trÆ°á»›c háº¡n**
3. Äiá»n:
   - **Sá»‘ tiá»n rÃºt**: Sá»‘ tiá»n muá»‘n rÃºt
   - **LÃ£i suáº¥t thá»±c táº¿**: (náº¿u khÃ¡c vá»›i lÃ£i suáº¥t gá»‘c)
4. Nháº¥n **XÃ¡c nháº­n**

### 4.4 Gia háº¡n (Rollover)

1. VÃ o chi tiáº¿t tÃ i khoáº£n
2. Khi Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n, chá»n **Gia háº¡n**
3. Äiá»u chá»‰nh (náº¿u cáº§n):
   - **LÃ£i suáº¥t má»›i**: (náº¿u thay Ä‘á»•i)
   - **Ká»³ háº¡n má»›i**: (náº¿u thay Ä‘á»•i)
4. Nháº¥n **XÃ¡c nháº­n**

## 5. Minh hoáº¡ giao diá»‡n (Wireframe)

### 5.1 MÃ n hÃ¬nh Danh sÃ¡ch (SavingsList)

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Quay láº¡i    Tiáº¿t kiá»‡m                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” TÃ¬m kiáº¿m...]                        â”‚
â”‚  [Táº¥t cáº£ â–¼] [Äang hoáº¡t Ä‘á»™ng] [ÄÃ£ Ä‘Ã¡o háº¡n]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ VCB - Tiáº¿t kiá»‡m 6 thÃ¡ng            â”‚ â”‚
â”‚  â”‚ 50,000,000 Ä‘                        â”‚ â”‚
â”‚  â”‚ LÃ£i suáº¥t: 6.5%/nÄƒm                  â”‚ â”‚
â”‚  â”‚ ÄÃ¡o háº¡n: 15/05/2025                â”‚ â”‚
â”‚  â”‚ [Äang hoáº¡t Ä‘á»™ng]                    â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚ [Chi tiáº¿t] [Sá»­a] [XÃ³a]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  Tá»•ng: 50,000,000 Ä‘                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    [+]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 MÃ n hÃ¬nh Chi tiáº¿t (SavingsAccountDetail)

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Quay láº¡i    Chi tiáº¿t tiáº¿t kiá»‡m       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  VCB - Tiáº¿t kiá»‡m 6 thÃ¡ng                â”‚
â”‚                                         â”‚
â”‚  Sá»‘ tiá»n gá»­i                            â”‚
â”‚  50,000,000 Ä‘                           â”‚
â”‚                                         â”‚
â”‚  LÃ£i suáº¥t                               â”‚
â”‚  6.5% / nÄƒm                             â”‚
â”‚                                         â”‚
â”‚  Ká»³ háº¡n                                 â”‚
â”‚  6 thÃ¡ng                                â”‚
â”‚                                         â”‚
â”‚  NgÃ y gá»­i                               â”‚
â”‚  15/11/2024                             â”‚
â”‚                                         â”‚
â”‚  NgÃ y Ä‘Ã¡o háº¡n                           â”‚
â”‚  15/05/2025                             â”‚
â”‚                                         â”‚
â”‚  LÃ£i dá»± kiáº¿n                            â”‚
â”‚  1,625,000 Ä‘                            â”‚
â”‚                                         â”‚
â”‚  [RÃºt tiá»n trÆ°á»›c háº¡n] [Gia háº¡n]        â”‚
â”‚  [Sá»­a] [XÃ³a]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6. Logic & quy táº¯c

### 6.1 TÃ­nh lÃ£i

- LÃ£i Ä‘Æ°á»£c tÃ­nh theo cÃ´ng thá»©c: `Sá»‘ tiá»n Ã— LÃ£i suáº¥t Ã— (Ká»³ háº¡n / 12)`
- LÃ£i Ä‘Æ°á»£c tÃ­nh khi Ä‘Ã¡o háº¡n hoáº·c khi rÃºt trÆ°á»›c háº¡n

### 6.2 Tráº¡ng thÃ¡i

- **Äang hoáº¡t Ä‘á»™ng**: TÃ i khoáº£n chÆ°a Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n
- **ÄÃ£ Ä‘Ã¡o háº¡n**: ÄÃ£ Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n, chÆ°a gia háº¡n hoáº·c rÃºt

### 6.3 RÃºt trÆ°á»›c háº¡n

- Khi rÃºt trÆ°á»›c háº¡n, lÃ£i suáº¥t cÃ³ thá»ƒ thay Ä‘á»•i (tÃ¹y chÃ­nh sÃ¡ch ngÃ¢n hÃ ng)
- Báº¡n cÃ³ thá»ƒ rÃºt má»™t pháº§n hoáº·c toÃ n bá»™

### 6.4 ThÃ´ng bÃ¡o

- App gá»­i thÃ´ng bÃ¡o nháº¯c nhá»Ÿ khi Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n
- ThÃ´ng bÃ¡o hiá»ƒn thá»‹ vÃ o 4PM vÃ  7PM (náº¿u báº­t thÃ´ng bÃ¡o)

## 7. LÆ°u Ã½ quan trá»ng

- **LÃ£i suáº¥t**: Nháº­p lÃ£i suáº¥t theo nÄƒm (%/nÄƒm)
- **Ká»³ háº¡n**: TÃ­nh theo thÃ¡ng
- **NgÃ y Ä‘Ã¡o háº¡n**: Tá»± Ä‘á»™ng tÃ­nh tá»« ngÃ y gá»­i + ká»³ háº¡n
- **KhÃ´ng thá»ƒ xÃ³a**: TÃ i khoáº£n Ä‘Ã£ cÃ³ giao dá»‹ch khÃ´ng thá»ƒ xÃ³a (chá»‰ cÃ³ thá»ƒ táº¯t)

## 8. Mapping ká»¹ thuáº­t (for dev)

### 8.1 Routes / Route Names

- `SavingsList` - Danh sÃ¡ch
- `AddSavingsAccount` - ThÃªm má»›i
- `EditSavingsAccount` - Sá»­a (param: `savingsAccountId`)
- `SavingsAccountDetail` - Chi tiáº¿t (param: `savingsAccountId`)
- `WithdrawSavingsAccount` - RÃºt tiá»n (param: `savingsAccountId`)

### 8.2 Screen File Paths

- `src/screens/finance/SavingsListScreen.tsx`
- `src/screens/finance/AddSavingsAccountScreen.tsx`
- `src/screens/finance/EditSavingsAccountScreen.tsx`
- `src/screens/finance/SavingsAccountDetailScreen.tsx`
- `src/screens/finance/WithdrawSavingsAccountScreen.tsx`

### 8.3 Services / Repos File Paths

- `src/data/repo/savings.repository.ts` - `savingsAccountRepo`, `savingsBankRepo`
- `src/modules/finance/services/savings.service.ts` - `rolloverSavingsAccount`, `withdrawSavingsAccount`
- `src/modules/finance/hooks/useSavingsList.ts` - Custom hook cho list

### 8.4 DB Tables / Models

- `savings_account` - Báº£ng tÃ i khoáº£n tiáº¿t kiá»‡m
  - `id`, `user_id`, `bank_id`, `amount`, `interest_rate`, `term_months`, `start_date`, `maturity_date`, `status`, `note`
- `savings_bank` - Báº£ng ngÃ¢n hÃ ng
  - `id`, `user_id`, `name`, `code`, `is_active`

### 8.5 i18n Keys

- `savings.list_title` - "Tiáº¿t kiá»‡m"
- `savings.add_title` - "ThÃªm tÃ i khoáº£n tiáº¿t kiá»‡m"
- `savings.detail.title` - "Chi tiáº¿t tiáº¿t kiá»‡m"
- `savings.bank` - "NgÃ¢n hÃ ng"
- `savings.amount` - "Sá»‘ tiá»n gá»­i"
- `savings.interest_rate` - "LÃ£i suáº¥t"
- `savings.term_months` - "Ká»³ háº¡n"
- VÃ  nhiá»u keys khÃ¡c trong `src/i18n/locales/vi.json` dÆ°á»›i key `savings`

